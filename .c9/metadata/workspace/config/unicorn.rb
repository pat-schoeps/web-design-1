{"filter":false,"title":"unicorn.rb","tooltip":"/config/unicorn.rb","undoManager":{"mark":5,"position":5,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":53}},"text":"worker_processes Integer(ENV[\"WEB_CONCURRENCY\"] || 3)"},{"action":"insertText","range":{"start":{"row":0,"column":53},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":21,"column":0}},"lines":["timeout 15","preload_app true","","before_fork do |server, worker|","  Signal.trap 'TERM' do","    puts 'Unicorn master intercepting TERM and sending myself QUIT instead'","    Process.kill 'QUIT', Process.pid","  end","","  defined?(ActiveRecord::Base) and ActiveRecord::Base.connection.disconnect!","end","","after_fork do |server, worker|","  Signal.trap 'TERM' do","    msg  = 'Unicorn worker intercepting TERM and doing nothing. '","    msg += 'Wait for master to send QUIT'","    puts msg","  end","","  defined?(ActiveRecord::Base) and ActiveRecord::Base.establish_connection"]},{"action":"insertText","range":{"start":{"row":21,"column":0},"end":{"row":21,"column":3}},"text":"end"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":21,"column":0},"end":{"row":21,"column":3}},"text":"end"},{"action":"removeLines","range":{"start":{"row":3,"column":0},"end":{"row":21,"column":0}},"nl":"\n","lines":["","before_fork do |server, worker|","  Signal.trap 'TERM' do","    puts 'Unicorn master intercepting TERM and sending myself QUIT instead'","    Process.kill 'QUIT', Process.pid","  end","","  defined?(ActiveRecord::Base) and ActiveRecord::Base.connection.disconnect!","end","","after_fork do |server, worker|","  Signal.trap 'TERM' do","    msg  = 'Unicorn worker intercepting TERM and doing nothing. '","    msg += 'Wait for master to send QUIT'","    puts msg","  end","","  defined?(ActiveRecord::Base) and ActiveRecord::Base.establish_connection"]},{"action":"insertText","range":{"start":{"row":3,"column":0},"end":{"row":3,"column":53}},"text":"worker_processes Integer(ENV[\"WEB_CONCURRENCY\"] || 3)"},{"action":"insertText","range":{"start":{"row":3,"column":53},"end":{"row":4,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":4,"column":0},"end":{"row":24,"column":0}},"lines":["timeout 15","preload_app true","","before_fork do |server, worker|","  Signal.trap 'TERM' do","    puts 'Unicorn master intercepting TERM and sending myself QUIT instead'","    Process.kill 'QUIT', Process.pid","  end","","  defined?(ActiveRecord::Base) and ActiveRecord::Base.connection.disconnect!","end","","after_fork do |server, worker|","  Signal.trap 'TERM' do","    msg  = 'Unicorn worker intercepting TERM and doing nothing. '","    msg += 'Wait for master to send QUIT'","    puts msg","  end","","  defined?(ActiveRecord::Base) and ActiveRecord::Base.establish_connection"]},{"action":"insertText","range":{"start":{"row":24,"column":0},"end":{"row":24,"column":3}},"text":"end"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":24,"column":0},"end":{"row":24,"column":3}},"text":"end"},{"action":"removeLines","range":{"start":{"row":3,"column":0},"end":{"row":24,"column":0}},"nl":"\n","lines":["worker_processes Integer(ENV[\"WEB_CONCURRENCY\"] || 3)","timeout 15","preload_app true","","before_fork do |server, worker|","  Signal.trap 'TERM' do","    puts 'Unicorn master intercepting TERM and sending myself QUIT instead'","    Process.kill 'QUIT', Process.pid","  end","","  defined?(ActiveRecord::Base) and ActiveRecord::Base.connection.disconnect!","end","","after_fork do |server, worker|","  Signal.trap 'TERM' do","    msg  = 'Unicorn worker intercepting TERM and doing nothing. '","    msg += 'Wait for master to send QUIT'","    puts msg","  end","","  defined?(ActiveRecord::Base) and ActiveRecord::Base.establish_connection"]},{"action":"insertText","range":{"start":{"row":3,"column":0},"end":{"row":3,"column":53}},"text":"worker_processes Integer(ENV[\"WEB_CONCURRENCY\"] || 3)"},{"action":"insertText","range":{"start":{"row":3,"column":53},"end":{"row":4,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":4,"column":0},"end":{"row":24,"column":0}},"lines":["timeout 15","preload_app true","","before_fork do |server, worker|","  Signal.trap 'TERM' do","    puts 'Unicorn master intercepting TERM and sending myself QUIT instead'","    Process.kill 'QUIT', Process.pid","  end","","  defined?(ActiveRecord::Base) and ActiveRecord::Base.connection.disconnect!","end","","after_fork do |server, worker|","  Signal.trap 'TERM' do","    msg  = 'Unicorn worker intercepting TERM and doing nothing. '","    msg += 'Wait for master to send QUIT'","    puts msg","  end","","  defined?(ActiveRecord::Base) and ActiveRecord::Base.establish_connection"]},{"action":"insertText","range":{"start":{"row":24,"column":0},"end":{"row":24,"column":3}},"text":"end"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":24,"column":0},"end":{"row":24,"column":3}},"text":"end"},{"action":"removeLines","range":{"start":{"row":3,"column":0},"end":{"row":24,"column":0}},"nl":"\n","lines":["worker_processes Integer(ENV[\"WEB_CONCURRENCY\"] || 3)","timeout 15","preload_app true","","before_fork do |server, worker|","  Signal.trap 'TERM' do","    puts 'Unicorn master intercepting TERM and sending myself QUIT instead'","    Process.kill 'QUIT', Process.pid","  end","","  defined?(ActiveRecord::Base) and ActiveRecord::Base.connection.disconnect!","end","","after_fork do |server, worker|","  Signal.trap 'TERM' do","    msg  = 'Unicorn worker intercepting TERM and doing nothing. '","    msg += 'Wait for master to send QUIT'","    puts msg","  end","","  defined?(ActiveRecord::Base) and ActiveRecord::Base.establish_connection"]},{"action":"insertText","range":{"start":{"row":3,"column":0},"end":{"row":3,"column":19}},"text":"# config/unicorn.rb"},{"action":"insertText","range":{"start":{"row":3,"column":19},"end":{"row":4,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":4,"column":0},"end":{"row":25,"column":0}},"lines":["worker_processes Integer(ENV[\"WEB_CONCURRENCY\"] || 3)","timeout 15","preload_app true","","before_fork do |server, worker|","  Signal.trap 'TERM' do","    puts 'Unicorn master intercepting TERM and sending myself QUIT instead'","    Process.kill 'QUIT', Process.pid","  end","","  defined?(ActiveRecord::Base) and","    ActiveRecord::Base.connection.disconnect!","end","","after_fork do |server, worker|","  Signal.trap 'TERM' do","    puts 'Unicorn worker intercepting TERM and doing nothing. Wait for master to send QUIT'","  end","","  defined?(ActiveRecord::Base) and","    ActiveRecord::Base.establish_connection"]},{"action":"insertText","range":{"start":{"row":25,"column":0},"end":{"row":25,"column":3}},"text":"end"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":2,"column":0},"end":{"row":2,"column":16}},"text":"preload_app true"},{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":2,"column":0}},"nl":"\n","lines":["worker_processes Integer(ENV[\"WEB_CONCURRENCY\"] || 3)","timeout 15"]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":1,"column":0}},"nl":"\n","lines":[""]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":1,"column":53},"end":{"row":1,"column":53},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1414968367158,"hash":"8c8723fef926b6544c84ede6501020cdc03e9554"}